{"version":3,"sources":["webpack://materialui/./lib/table.jsx"],"names":["icons","Add","AddIcon","Check","CheckIcon","Clear","ClearIcon","Delete","DeleteIcon","DetailPanel","DetailPanelIcon","Edit","EditIcon","Export","ExportIcon","Filter","FilterIcon","FirstPage","FirstPageIcon","LastPage","LastPageIcon","NextPage","NextPageIcon","PreviousPage","PreviousPageIcon","ResetSearch","ResetSearchIcon","Search","SearchIcon","SortArrow","SortArrowIcon","ThirdStateCheck","ThirdStateCheckIcon","ViewColumn","ViewColumnIcon","TableCell","props","useState","loading","content","setContent","useEffect","post","endpoint","rowData","then","x","render","toLowerCaseKeys","o","accum","Object","keys","forEach","toLowerCase","withComponentFeatures","columns","map","column","field","title","filtering","filter","sorting","sort","search","data","loadData","query","Promise","resolve","properties","result","y","page","totalCount","id","key","options","exportButton"],"mappings":"mcAuBMA,EAAQ,CACVC,IAAKC,IACLC,MAAOC,IACPC,MAAOC,IACPC,OAAQC,IACRC,YAAaC,IACbC,KAAMC,IACNC,OAAQC,IACRC,OAAQC,IACRC,UAAWC,IACXC,SAAUC,IACVC,SAAUC,IACVC,aAAcC,IACdC,YAAaC,IACbC,OAAQC,IACRC,UAAWC,IACXC,gBAAiBC,IACjBC,WAAYC,KAEVC,EAAY,SAACC,GAAU,MAEKC,mBAAS,CAAEC,SAAS,IAFzB,mBAElBC,EAFkB,KAETC,EAFS,KAUzB,OANAC,qBAAU,WAGN,OAFAL,EAAMM,KAAKN,EAAMO,SAAUP,EAAMQ,SAASC,MAAK,SAAAC,GAAC,OAAIN,EAAWM,MAExD,gBACR,GAECP,EAAQD,QAED,kBAAC,IAAD,MAGJF,EAAMW,OAAOR,IAGlBS,EAAkB,SAAAC,GACpB,IAAIC,EAAQ,GAKZ,OAJAC,OAAOC,KAAKH,GAAGI,SAAQ,SAAAP,GACnBI,EAAMJ,EAAEQ,eAAiBL,EAAEH,MAGxBI,GAkEIK,uBA/DC,SAACnB,GAEb,IAAMoB,EAAUpB,EAAMoB,QAAQC,KAAI,SAAAC,GAE9B,IAAIX,EAAS,KAMb,OALIW,EAAOX,SAEPA,EAAS,SAACH,GAAD,OAAa,kBAACT,EAAD,iBAAeC,EAAf,CAAsBO,SAAUe,EAAOX,OAAQH,QAASA,OAG3E,CACHe,MAAOD,EAAOC,MAAML,cACpBM,MAAOF,EAAOE,MACdC,UAAWH,EAAOI,OAClBC,QAASL,EAAOM,KAChBC,OAAQP,EAAOO,OACflB,aAIJmB,EAAO,KAyBX,OAvBIA,EADA9B,EAAM+B,SACC,SAACC,GACJ,OAAO,IAAIC,SAAQ,SAACC,GAEhBF,EAAMG,WAAaf,EAAQC,KAAI,SAAAX,GAAC,OAAIA,EAAEa,SAItCvB,EAAM+B,SAASC,GAAOvB,MAAK,SAAAC,GACvB,IAAI0B,EAAS1B,EAAE,GAAGoB,KAAKT,KAAI,SAAAgB,GAAC,OAAIzB,EAAgByB,MAChDH,EAAQ,CACJJ,KAAMM,EACNE,KAAM5B,EAAE,GAAG4B,KACXC,WAAY7B,EAAE,GAAG6B,oBAQ1BvC,EAAM8B,KAAKT,KAAI,SAAAX,GAAC,OAAIE,EAAgBF,MAI3C,yBAAK8B,GAAIxC,EAAMwC,GAAIC,IAAKzC,EAAMwC,IAC1B,kBAAC,IAAD,CACIhB,MAAOxB,EAAMwB,MACb5D,MAAOA,EACPwD,QAASA,EACTsB,QAAS,CACLC,aAAc3C,EAAK,OACnB2B,QAAS3B,EAAM4B,KACfH,UAAWzB,EAAM0B,OACjBG,OAAQ7B,EAAM6B,QAElBC,KAAMA","file":"Table.eadb7186c2ceb7e221f6.bundle.js","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport MaterialTable from 'material-table';\r\n\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport DeleteIcon from '@material-ui/icons/DeleteOutline';\r\nimport DetailPanelIcon from '@material-ui/icons/ChevronRight';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport ExportIcon from '@material-ui/icons/SaveAlt';\r\nimport FilterIcon from '@material-ui/icons/FilterList';\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\nimport NextPageIcon from '@material-ui/icons/ChevronRight';\r\nimport PreviousPageIcon from '@material-ui/icons/ChevronLeft';\r\nimport ResetSearchIcon from '@material-ui/icons/Clear';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport SortArrowIcon from '@material-ui/icons/ArrowUpward';\r\nimport ThirdStateCheckIcon from '@material-ui/icons/Remove';\r\nimport ViewColumnIcon from '@material-ui/icons/ViewColumn';\r\nimport { withComponentFeatures } from './universal-dashboard';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nconst icons = {\r\n    Add: AddIcon,\r\n    Check: CheckIcon,\r\n    Clear: ClearIcon,\r\n    Delete: DeleteIcon,\r\n    DetailPanel: DetailPanelIcon,\r\n    Edit: EditIcon,\r\n    Export: ExportIcon,\r\n    Filter: FilterIcon,\r\n    FirstPage: FirstPageIcon,\r\n    LastPage: LastPageIcon,\r\n    NextPage: NextPageIcon,\r\n    PreviousPage: PreviousPageIcon,\r\n    ResetSearch: ResetSearchIcon,\r\n    Search: SearchIcon,\r\n    SortArrow: SortArrowIcon,\r\n    ThirdStateCheck: ThirdStateCheckIcon,\r\n    ViewColumn: ViewColumnIcon\r\n}\r\nconst TableCell = (props) => {\r\n\r\n    const [content, setContent] = useState({ loading: true})\r\n\r\n    useEffect(() => {\r\n        props.post(props.endpoint, props.rowData).then(x => setContent(x));\r\n\r\n        return () => {}\r\n    }, true)\r\n\r\n    if (content.loading)\r\n    {\r\n        return <Skeleton />\r\n    }\r\n\r\n    return props.render(content);\r\n}\r\n\r\nconst toLowerCaseKeys = o => {\r\n    var accum = {};\r\n    Object.keys(o).forEach(x => {\r\n        accum[x.toLowerCase()] = o[x]\r\n    });\r\n\r\n    return accum;\r\n}\r\n\r\nconst UDTable = (props) => {\r\n\r\n    const columns = props.columns.map(column => {\r\n\r\n        var render = null;\r\n        if (column.render)\r\n        {\r\n            render = (rowData) => <TableCell {...props} endpoint={column.render} rowData={rowData} />\r\n        }\r\n\r\n        return { \r\n            field: column.field.toLowerCase(), \r\n            title: column.title, \r\n            filtering: column.filter, \r\n            sorting: column.sort, \r\n            search: column.search,\r\n            render\r\n        }\r\n    })\r\n\r\n    var data = null;\r\n    if (props.loadData) {\r\n        data = (query) => {\r\n            return new Promise((resolve, reject) => {\r\n\r\n                query.properties = columns.map(x => x.field);\r\n\r\n                //todo: show error message\r\n\r\n                props.loadData(query).then(x => {\r\n                    var result = x[0].data.map(y => toLowerCaseKeys(y));\r\n                    resolve({\r\n                        data: result,\r\n                        page: x[0].page,\r\n                        totalCount: x[0].totalCount\r\n                    })\r\n                })\r\n            });\r\n        }\r\n    }\r\n    else \r\n    {\r\n        data = props.data.map(x => toLowerCaseKeys(x));\r\n    }\r\n\r\n    return (\r\n        <div id={props.id} key={props.id}>\r\n            <MaterialTable \r\n                title={props.title}\r\n                icons={icons}\r\n                columns={columns} \r\n                options={{\r\n                    exportButton: props.export,\r\n                    sorting: props.sort, \r\n                    filtering: props.filter,\r\n                    search: props.search\r\n                }}\r\n                data={data} \r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withComponentFeatures(UDTable);\r\n"],"sourceRoot":""}